// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

contract ReEntrancySafe{
    mapping(address => uint256) public balances;

    function deposit() external payable{
        balances[msg.sender] += msg.value;        
    }

    function withdrawn(uint _amount) external{
        require(balances[msg.sender] >= _amount, "saldo insuficiente");        

        //antes de hacer el envio del saldo es hacer otra verificacion 
        require(payable(msg.sender).send(_amount), "Fallo en el envio");       

        //actualizar el saldo del remitente 
        balances[msg.sender] -= _amount;
        
    }
}